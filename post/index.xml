<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on さよならインターネット</title>
    <link>http://blog.kenjiskywalker.org/post/</link>
    <description>Recent content in Posts on さよならインターネット</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-jp</language>
    <lastBuildDate>Fri, 17 Feb 2017 07:50:54 +0900</lastBuildDate>
    <atom:link href="http://blog.kenjiskywalker.org/post/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>アンパンチが許されるのは</title>
      <link>http://blog.kenjiskywalker.org/blog/2017/02/17/justice-and-violence/</link>
      <pubDate>Fri, 17 Feb 2017 07:50:54 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2017/02/17/justice-and-violence/</guid>
      <description>

&lt;p&gt;2歳半の息子が、私がカミさんに嫌がらせ&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;例:&lt;br /&gt;
- 風呂に入る前に、あえてカミさんの前で服を脱ぐ&lt;br /&gt;
- 良いおならが出そうな時に大きな声を出して注意を向けて放屁する&lt;br /&gt;
- 大きいうんちが出た時に、大きいうんちが出たと報告する&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;などを行い、カミさんが「やめて」と発音すると&lt;br /&gt;
それに気付いた息子が即座に反応し「やめて！アーンパーンチ！」と私に暴力をふるってくる。&lt;/p&gt;

&lt;p&gt;彼の中ではその行いこそ正義であり、&lt;br /&gt;
マザコン野郎の守るべき最愛のものが傷付けられた時に選択する&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;アンパンマンという正義の象徴から繰り出される&lt;br /&gt;
アンパンチという正義の鉄槌を食らわす&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;という方針は実に正しい所作に見える。&lt;/p&gt;

&lt;p&gt;少なくとも息子の同年代の子どもたち（2歳後半から3歳前半）は、&lt;br /&gt;
皆、何かあるたびに自分の守るべきものを守るために「アンパンチ」を利用している。&lt;/p&gt;

&lt;h2 id=&#34;アンパンチはいつまで許されるのか&#34;&gt;アンパンチはいつまで許されるのか&lt;/h2&gt;

&lt;p&gt;少なくともこの世界には、正義と言う名のついた暴力は&lt;br /&gt;
毎日のように、世界中のあらゆるところで繰り返されているように思う。&lt;/p&gt;

&lt;p&gt;そもそも、この世界に明確な正義や明確な悪などという概念はあるのだろうか？&lt;br /&gt;
銀河英雄伝説やパトレイバー2が好きな私の好むところである。&lt;/p&gt;

&lt;p&gt;人はわかりやすいものが好きだ。&lt;br /&gt;
私も日々インターネットで炎上案件を見てほくそ笑む1人である。&lt;/p&gt;

&lt;p&gt;難解な正しい情報より、わかりやすい、自分の期待値に沿った話が好きだ。&lt;br /&gt;
それが妄誕無稽のフェイクな情報であっても。&lt;/p&gt;

&lt;p&gt;情報化が加速した現代では、その情報は、頭を使わず快楽を得る為の良い道具だ。&lt;br /&gt;
脱泡ドラッグなどより安全であり、なにしろ求めればすぐに手に入る。危険性も皆無だ。&lt;br /&gt;
（少なくとも当事者にならない限りは）&lt;/p&gt;

&lt;p&gt;情報の海の中で生きる現代だからこそ、正義や事実に関しては冷静にいたいものだ。&lt;/p&gt;

&lt;hr /&gt;

&lt;blockquote&gt;
&lt;p&gt;「正義を唱えるものがいたら気をつけろ、&lt;br /&gt;
　その相手の背景に何があって、何故そうしているのかを理解することだ。」&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;2歳半の息子にそう諭したとて、返ってくる言葉はこうだ。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;「お父さん、いっぱいたべたからいーーっぱいウンチ出た！」&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;あぁ、生命のなんたる偉大さよ！！！&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>沖縄の米軍施設で働いている家族の家に1週間ホームステイに行った</title>
      <link>http://blog.kenjiskywalker.org/blog/2017/02/06/homestay-in-okinawa/</link>
      <pubDate>Mon, 06 Feb 2017 20:33:02 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2017/02/06/homestay-in-okinawa/</guid>
      <description>&lt;p&gt;題名の通りだけど沖縄に家族でホームステイに行った。&lt;br /&gt;
1週間ずっと英語で話していた。&lt;br /&gt;
米軍施設の中のショッピングモールやレストランでご飯を食べたりして&lt;br /&gt;
国内にいながら海外にいるような体験ができてよかった。&lt;/p&gt;

&lt;p&gt;細かい話が知りたければ個別に声をかけてほしい。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>「最前線のリーダーシップ」を読んだ</title>
      <link>http://blog.kenjiskywalker.org/blog/2017/02/03/leadership-on-the-line/</link>
      <pubDate>Fri, 03 Feb 2017 16:33:05 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2017/02/03/leadership-on-the-line/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E6%9C%80%E5%89%8D%E7%B7%9A%E3%81%AE%E3%83%AA%E3%83%BC%E3%83%80%E3%83%BC%E3%82%B7%E3%83%83%E3%83%97-%E3%83%9E%E3%83%BC%E3%83%86%E3%82%A3%E3%83%BB%E3%83%AA%E3%83%B3%E3%82%B9%E3%82%AD%E3%83%BC/dp/490324170X%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3D13nightcrows-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D490324170X&#34; target=&#34;_blank&#34; title=&#34;最前線のリーダーシップ&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/41OTcTBDUoL.jpg&#34; width=&#34;300&#34; height=&#34;442&#34; alt=&#34;最前線のリーダーシップ&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;元々&lt;a href=&#34;http://www.nhk.or.jp/hakunetsu/leadership/about.html&#34;&gt;NHKの番組&lt;/a&gt;を見ていたので、内容はその踏襲だった。&lt;br /&gt;
内容の詳細についてはこちらのブログが詳しい。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://setithysowis.hatenablog.com/entry/2014/06/01/070000_1&#34;&gt;Setithy Sowis - ロナルド・ハイフェッツ教授のリーダーシップ論 [&lt;sup&gt;1&lt;/sup&gt;&amp;frasl;&lt;sub&gt;2&lt;/sub&gt;]&lt;/a&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;この本で特に興味深かったのは&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;技術的な解決と適用が必要な解決は違う
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;という点であり、技術的な解決は実行すれば解決される。&lt;br /&gt;
「ある人が今まで信じてきたり絶対だと思ってきたことを変える必要がある」&lt;br /&gt;
この適応が必要の課題の解決はとても難しく、時間も要する。&lt;/p&gt;

&lt;p&gt;この適応は&amp;rdquo;誰かが&amp;rdquo;ではなく&amp;rdquo;我々の&amp;rdquo;課題であり、&amp;rdquo;誰か&amp;rdquo;が未知なる力ですべてを解決することはできない。&lt;br /&gt;
必ず失敗してしまうだろう。のような内容で、とても厳しさがあったが&lt;br /&gt;
「適応が必要な課題」というのはなるほどな〜と考えさせられた。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PET-CT受けてきた</title>
      <link>http://blog.kenjiskywalker.org/blog/2017/01/06/pet/</link>
      <pubDate>Fri, 06 Jan 2017 16:21:38 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2017/01/06/pet/</guid>
      <description>&lt;p&gt;今年35歳になるのと親戚のおじさんが若くしてガンで亡くなったので&lt;br /&gt;
受けてきた。結果は特に問題はなかった。&lt;/p&gt;

&lt;p&gt;去年&lt;a href=&#34;https://mycode.jp&#34;&gt;MYCODE&lt;/a&gt;が半額だったのでカミさんと受けた。&lt;/p&gt;

&lt;p&gt;特にこれといった悲しい結果も非常に面白いこともなかった。&lt;br /&gt;
何もないことは良いことだ。今年も頑張っていこう&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>「新しい働き方　幸せと成果を両立する「モダンワークスタイル」のすすめ」を読んだ</title>
      <link>http://blog.kenjiskywalker.org/blog/2016/12/17/new-working-style/</link>
      <pubDate>Sat, 17 Dec 2016 21:05:03 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2016/12/17/new-working-style/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E6%96%B0%E3%81%97%E3%81%84%E5%83%8D%E3%81%8D%E6%96%B9-%E5%B9%B8%E3%81%9B%E3%81%A8%E6%88%90%E6%9E%9C%E3%82%92%E4%B8%A1%E7%AB%8B%E3%81%99%E3%82%8B%E3%80%8C%E3%83%A2%E3%83%80%E3%83%B3%E3%83%AF%E3%83%BC%E3%82%AF%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%80%8D%E3%81%AE%E3%81%99%E3%81%99%E3%82%81-%E8%B6%8A%E5%B7%9D%E6%85%8E%E5%8F%B8-ebook/dp/B01MSSR567%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3D13nightcrows-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB01MSSR567&#34; target=&#34;_blank&#34; title=&#34;新しい働き方　幸せと成果を両立する「モダンワークスタイル」のすすめ&#34;&gt;&lt;img src=&#34;http://ecx.images-amazon.com/images/I/41bP0qwUPCL.jpg&#34; width=&#34;339&#34; height=&#34;500&#34; alt=&#34;新しい働き方　幸せと成果を両立する「モダンワークスタイル」のすすめ&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://gendai.ismedia.jp/articles/-/50341&#34;&gt;日本マイクロソフトはなぜ「女性離職率40%減」を実現できたか - 現代ビジネス&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;この記事を読んで無茶苦茶感動し、大企業のマイクロソフトがここまで徹底的に調査実践していたのか！！！&lt;br /&gt;
このすさまじい血と汗の結晶が書籍には詰まっているのだろう！！！&lt;/p&gt;

&lt;p&gt;と非常に期待して読ませて頂いたが、正直上記記事のような&lt;br /&gt;
調査、実践、反証、実践を泥臭く続けてきた内容の話は少なく(記事の表がほぼ全に近い)、&lt;br /&gt;
結果的なお話や、ご自身の体験談や概要的な話が多かった。&lt;/p&gt;

&lt;p&gt;組織に対しての新しい働き方を提唱する内容なら、&lt;br /&gt;
テレワーク導入に際しての課題、仮説、実践、反証、実践の繰り返しを載せて頂きたかった。&lt;/p&gt;

&lt;p&gt;個人に対しての新しい働き方を提唱する内容なら、&lt;br /&gt;
SESSION-3以降の自己啓発に近いご自身の経験の話を前面に出してほしかった。&lt;/p&gt;

&lt;h4 id=&#34;気になった点&#34;&gt;気になった点&lt;/h4&gt;

&lt;p&gt;書籍内のSkype for Business押しや、&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;日本マイクロソフトでは、「テレワーク勤務制度」を採用してからというもの、日本企業によくあるような、&lt;br /&gt;
始業時間にオフィスにいないからといって懲罰の対象になることはもうありません。&lt;br /&gt;
コアタイムもないので、エンジニアなどの特定業務に就いている従業員以外は、業務遂行に適切な場所で、自由な時間に働くことができています&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;のような文などがあり、あれ、エンジニアは自由ではないの？と疑問に思うような記述も少なくなく&lt;br /&gt;
せめて巻末にでも、色々な背景を持った色々な職務の方が&lt;br /&gt;
テレワーク導入前と導入後にどう変わったかというインタビューが掲載されていると良かった。&lt;/p&gt;

&lt;h2 id=&#34;とはいっても&#34;&gt;とはいっても&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;テレワークという方法を目的にするな（勤務時間や勤務場所が固定されなくなることで得られるものはなにか？）&lt;/li&gt;
&lt;li&gt;方法より成果を求める&lt;/li&gt;
&lt;li&gt;1on1は必要(特に働きすぎな人などは見える化して上長がケアするようにしている)&lt;/li&gt;
&lt;li&gt;やっぱり評価制度は見える化しないと不満とかが出るんだろうな&amp;hellip;&lt;/li&gt;
&lt;li&gt;テレワークになって会議がめっちゃ増えているように読めるんだけど会議もアチーブモア実践してるのかな？&lt;/li&gt;
&lt;li&gt;たしかに環境の変化に柔軟に対応できるようにしておくってのが一番大事だよな&lt;/li&gt;
&lt;li&gt;この本をきっかけに越川さんに興味が湧いて調べれば調べるほど素晴らしい人でひたすら尊敬しかなくなっている&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;など色々学びがあった。めちゃくちゃ偉い人だからお会い出来ることはまずないだろうけど&lt;br /&gt;
もしお会い出来たら、テレワーク導入時の苦労話などを是非とも聞いてみたい。&lt;/p&gt;

&lt;h2 id=&#34;2017年&#34;&gt;2017年&lt;/h2&gt;

&lt;p&gt;とにかく僕たちは、善意から生まれたフォードがつくったこの世界の仕組みから&lt;br /&gt;
さらにもう1階層アセンションする必要があるんだ&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>itamae が nigiru ための nigiru.rb という社内プロビジョニングツールについて</title>
      <link>http://blog.kenjiskywalker.org/blog/2016/12/07/nigiru/</link>
      <pubDate>Wed, 07 Dec 2016 22:01:16 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2016/12/07/nigiru/</guid>
      <description>

&lt;p&gt;このエントリは &lt;a href=&#34;http://qiita.com/advent-calendar/2016/classi&#34;&gt;Classi Advent Calendar 2016&lt;/a&gt; 9日目の記事です。&lt;/p&gt;

&lt;h1 id=&#34;itamaeについて&#34;&gt;itamaeについて&lt;/h1&gt;

&lt;h2 id=&#34;http-itamae-kitchen-http-itamae-kitchen&#34;&gt;&lt;a href=&#34;http://itamae.kitchen&#34;&gt;http://itamae.kitchen&lt;/a&gt;&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;Configuration management tool inspired by Chef,&lt;br /&gt;
but simpler and lightweight. Formerly known as Lightchef.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;chefに疲れた人類は一縷の望みを懐き向かった先こそがitamae。&lt;/p&gt;

&lt;h2 id=&#34;使い方&#34;&gt;使い方&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://itamae.kitchen&#34;&gt;ここ&lt;/a&gt;を見てもらえばわかる通り、chefを利用したことがある人は特に迷いなく利用できる。&lt;br /&gt;
利用したことがなくても第一歩については一瞬で実行可能なのでとにかくチャレンジしてみてほしい。&lt;br /&gt;
itamaeは裏側で&lt;a href=&#34;https://githunob.com/mizzy/specinfra&#34;&gt;Specinfra&lt;/a&gt;を利用していたりしてそれもかわいい。&lt;br /&gt;
コード全体の見通しがよく、問題があっても（今まで問題はない）コード見て特定できる。&lt;br /&gt;
見通しが良いコードは、あらゆる面において最高なので、とにかくitamaeは最高ということがわかる。&lt;/p&gt;

&lt;h2 id=&#34;provisioning-is-dead&#34;&gt;provisioning is dead ?&lt;/h2&gt;

&lt;p&gt;時代はコンテナでアプリケーションをポン置き。&lt;br /&gt;
まだプロビジョニングで疲弊しているの？という世界はまぁわかる。&lt;/p&gt;

&lt;h1 id=&#34;nigiru-rb-について&#34;&gt;nigiru.rb について&lt;/h1&gt;

&lt;p&gt;itamaeを利用している各社においては、各々のitamae管理ツールなるものを運用していると思う。&lt;br /&gt;
弊社もそれ相応のものを運用しているのでこの場をお借りして軽く紹介したい。&lt;/p&gt;

&lt;h2 id=&#34;構成&#34;&gt;構成&lt;/h2&gt;

&lt;p&gt;基本は&lt;a href=&#34;https://github.com/itamae-kitchen/itamae/wiki/Best-Practice&#34;&gt;Best Practice&lt;/a&gt;を参考にしている&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;.
├── REAME.md
├── bootstrap.rb
├── cookbooks
├── initializer.rb
├── nigiru.rb
├── recipe_helper.rb
├── roles
└── tools
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;nigiruの内部処理&#34;&gt;nigiruの内部処理&lt;/h2&gt;

&lt;h3 id=&#34;option設定周りとec2タグの確認&#34;&gt;option設定周りとEC2タグの確認&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-n&lt;/code&gt; で itamae の &lt;code&gt;--dry-run&lt;/code&gt; を呼び出し&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-r&lt;/code&gt; で role の指定&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--init&lt;/code&gt; で &lt;code&gt;initializer&lt;/code&gt;(OS起動時のみ実行したい処理)を指定&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;EC2は&lt;code&gt;EC2_TAG_ROLE&lt;/code&gt;と&lt;code&gt;EC2_TAG_STAGE&lt;/code&gt;という環境変数を持っており&lt;br /&gt;
その環境変数を見て色々と処理を分けている。&lt;br /&gt;
&lt;code&gt;EC2_TAG_ROLE&lt;/code&gt;はitamaeの&lt;code&gt;roles&lt;/code&gt;の部分と対を成している。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;opt = OptionParser.new

@options = {
  dry_run: false,
  init: false
}

@logfile = &#39;/var/log/itamae.log&#39;

opt.on(&#39;-n&#39;, &#39;--dry-run&#39;)   { @options[:dry_run] = true }
opt.on(&#39;-r ROLE&#39;, &#39;--role&#39;) { @options[:role] = v }
opt.on(&#39;--init&#39;)            { @options[:init] = true }
opt.parse!(ARGV)

def before_check_ec2_tag
  if ENV[&#39;EC2_TAG_ROLE&#39;].nil?
    puts &amp;quot;ENV[&#39;EC2_TAG_ROLE&#39;] が設定されていません&amp;quot;
    exit 1
  end
  if ENV[&#39;EC2_TAG_STAGE&#39;].nil?
    puts &amp;quot;ENV[&#39;EC2_TAG_STAGE&#39;] が設定されていません&amp;quot;
    exit 1
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;itamaeの実行コマンドを生成&#34;&gt;itamaeの実行コマンドを生成&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;def make_itamae_command
  # itamaeの実行ファイルを指定
  itamae_bin = `which itamae`.chomp

  # --init であれば initializer.rb を指定する
  if @options[:init]
    # initializer は role とは関係がないので before_check_ec2_tag は不要
    command = &amp;quot;#{itamae_bin} local --no-color --ohai #{__dir__}/initializer.rb&amp;quot;
  else
    before_check_ec2_tag
    command = &amp;quot;#{itamae_bin} local --no-color --ohai #{__dir__}/bootstrap.rb&amp;quot;
  end

  # dyr-runの確認
  command += &#39; -n&#39; if @options[:dry_run]

  command
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;itamaeの実行&#34;&gt;itamaeの実行　&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;# itamae実行箇所
def exec_itamae
  # itamaeの実行
  stdout, status = Open3.capture2(itamae_command)

  # nigiru 自身の exit code として itamaeの exit status を利用
  itamae_exit_status = status.exitstatus

  # 標準出力に出力する
  puts stdout

  # ファイルにアウトプットする
  write_out_file(stdout)

  itamae_exit_status
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;itamaeの実行ログをファイルに出力している&#34;&gt;itamaeの実行ログをファイルに出力している&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;def write_out_file(stdout)
  return if @options[:dry_run]

  File.open(@logfile, &#39;w&#39;) do |file|
    file.puts stdout
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;nigiruの通知周り&#34;&gt;nigiruの通知周り&lt;/h3&gt;

&lt;p&gt;メールの通知はログとして冗長であってもそこまで問題ではないにしろ、&lt;br /&gt;
Slackへの通知は情報量が多すぎるのでもう少し整理したい。&lt;br /&gt;
この辺の通知周りについての知見を知りたい。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;def notify_log_to_slack(message)
  return if @options[:dry_run]

  # --init だとわかるように情報を付与
  message += &amp;quot; INITIALIZE&amp;quot; if @options[:init]

  if ENV[&#39;EC2_TAG_STAGE&#39;] == &amp;quot;production&amp;quot;
    slack_channel = &#39;#CHANNEL&#39;
  else
    slack_channel = &#39;#CHANNEL&#39;
  end

  now = `date +%Y/%m/%d:%H:%M`.chomp
  hostname = `hostname`.chomp

  `curl -s https://slack.com/api/chat.postMessage \
     -X POST -d &#39;link_names=1&#39; \
             -d &#39;channel=#{slack_channel}&#39; \
             -d &#39;text=#{now}: HOSTNAME: *#{hostname}* : #{message} :sushi: &#39; \
             -d &#39;username=itamae&#39; \
             -d &#39;icon_emoji=:itamae:&#39; \
             -d &#39;token=#{ENV[&#39;SLACK_TOKEN&#39;]}&#39;`
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;hostname&lt;/code&gt;全体で持てばいいな&amp;hellip;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;def notify_log_to_mail
  return if @options[:dry_run]

  now      = `date +%Y/%m/%d:%H:%M`.chomp
  hostname = `hostname`.chomp

  `cat #{@logfile} | col -b | mail -s &amp;quot;ITAMAE LOG #{hostname} : #{now}&amp;quot; #{mail_to}`
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;mainの処理&#34;&gt;mainの処理&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;# itamaeの実行の通知
notice_log_by_slack(&amp;quot;ITAMAE START&amp;quot;)

# itamaeを実行して実行ステータスをitamae_exit_status に入れる
itamae_exit_status = exec_command

# 実行した内容をメールで送る
notice_log_by_mail

# 実行内容をSlackへ通知
notice_log_by_slack(File.read(@logfile))

# 完了後の通知実行箇所
if itamae_exit_status != 0
  notice_log_by_slack(&amp;quot;:anger: ITAMAE ERROR!!!&amp;quot;)
else
  notice_log_by_slack(&amp;quot;ITAMAE DONE&amp;quot;)
end

exit itamae_exit_status
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;initializer-rbとbootstrap-rbについて&#34;&gt;initializer.rbとbootstrap.rbについて&lt;/h1&gt;

&lt;h2 id=&#34;initializer-rb&#34;&gt;initializer.rb&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;./cookbooks/initializer/default.rb&lt;/code&gt;と&lt;br /&gt;
&lt;code&gt;./cookbooks/common/default.rb&lt;/code&gt;を読み込んでいる。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/usr/bin/env ruby

require File.join(__dir__, &amp;quot;./recipe_helper.rb&amp;quot;)

# Roleのattributeを優先する
include_attributes :role, &amp;quot;initializer&amp;quot;
include_attributes :role, &amp;quot;common&amp;quot;

# 何も指定しない場合は ENV[&#39;EC2_TAG_ROLE&#39;] のroleを実行するようにしよう
include_recipe File.join(&#39;roles&#39;, &#39;initializer&#39;, &#39;default.rb&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;recipe_helper.rb&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code&gt;include_cookbook&lt;/code&gt;と&lt;code&gt;include_attributes&lt;/code&gt;をhelperで実装。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;module RecipeHelper
  def include_cookbook(name)
    include_recipe File.join(__dir__, &amp;quot;cookbooks&amp;quot;, name, &amp;quot;default.rb&amp;quot;)
  end

  # type: :roles or :cookbooks
  def include_attributes(type, name)
    unless %i(role cookbook).include?(type)
      raise &amp;quot;type must be #{type}&amp;quot;
    end

    filepath =File.join(__dir__, &amp;quot;#{type}s&amp;quot;, name, &amp;quot;attributes.rb&amp;quot;)
    if File.exists?(filepath)
      include_recipe filepath
    else
      Itamae.logger.warn &amp;quot;attribute not found: #{filepath}&amp;quot;
    end
  end
end

Itamae::Recipe::EvalContext.include(RecipeHelper)
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;./cookbooks/initializer/default.rb&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;OS起動時に必要な処理を色々とやっている&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;include_recipe &#39;./boot_file.rb&#39;
include_recipe &#39;./directorys.rb&#39;
include_recipe &#39;./os_settings.rb&#39;
include_recipe &#39;./swap.rb&#39;
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;bootstrap-rb&#34;&gt;bootstrap.rb&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;roles/ROLE/default.rb&lt;/code&gt;を読み込むための設定。&lt;br /&gt;
各種インストールパッケージや、agent周りの設定は&lt;code&gt;common&lt;/code&gt;に記載している。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;require File.join(__dir__, &amp;quot;./recipe_helper.rb&amp;quot;)

# Roleのattributeを優先する
include_attributes :role, ENV[&#39;EC2_TAG_ROLE&#39;]
include_attributes :role, &amp;quot;common&amp;quot;

# 共通のrecipeはここで読み込む
include_recipe File.join(&#39;roles/common/default.rb&#39;)

# 何も指定しない場合は ENV[&#39;EC2_TAG_ROLE&#39;] のroleを実行する
include_recipe File.join(&#39;roles&#39;, ENV[&#39;EC2_TAG_ROLE&#39;], &#39;default.rb&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;nigiruをどうやって実行しているか&#34;&gt;nigiruをどうやって実行しているか&lt;/h1&gt;

&lt;h2 id=&#34;ciに連動したプロビジョニング&#34;&gt;CIに連動したプロビジョニング&lt;/h2&gt;

&lt;p&gt;CircleCI + CodeDeployでpull型のdeployを実装している。&lt;br /&gt;
しかし、逐次処理の処理速度の遅さと、一括処理による失敗時のリスクのバランスの取り方が&lt;br /&gt;
適切ではない。全体のn%に対してプロビジョニングを行うなども感がているが&lt;br /&gt;
みんなどうやっているのか知見を知りたい。&lt;/p&gt;

&lt;h2 id=&#34;インスタンス起動時に実行&#34;&gt;インスタンス起動時に実行&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;/var/lib/cloud/scripts/per-boot/002_itamae.sh&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;というファイルを用意しておき、インスタンス起動時には&lt;br /&gt;
最新のmasterをpullし、&lt;code&gt;nigiru&lt;/code&gt;ようにしている。&lt;br /&gt;
ご覧の通り、001や003、004など色々な処理をインスタンス起動時にしているが&lt;br /&gt;
数字に特に意味はない。&lt;/p&gt;

&lt;h1 id=&#34;おわりに&#34;&gt;おわりに&lt;/h1&gt;

&lt;p&gt;全体的な流れをつらつらと書いたが、雰囲気だけでも理解してもらえればありがたい。&lt;br /&gt;
また、この記事を元に、いや、うちではこうしている、その処理はこうすべき、と&lt;br /&gt;
議論に発展すればなおありがたい💪☺️&lt;/p&gt;

&lt;p&gt;COOKPAD社の方のソフトウェアには色々とお世話になってはいるが、&lt;br /&gt;
物理的にお会いしたことがないので、お会いした際には是非感謝の意を伝えたい🙏&lt;/p&gt;

&lt;p&gt;また、itamaeに関しては、chef -&amp;gt; ansible -&amp;gt; itamaeという&lt;br /&gt;
プロビジョニングツールを利用してきた遍歴から、多少はプロビジョニングについての&lt;br /&gt;
ノウハウのようなものを習得したかもしれない前提であっても、&lt;br /&gt;
自分で細かい処理が実装できる点において、itamaeは最高としか言いようがない。&lt;br /&gt;
&lt;a href=&#34;https://github.com/ryotarai&#34;&gt;ryotaarai&lt;/a&gt;さんありがとうございます🙏&lt;/p&gt;

&lt;p&gt;明日はkitaharamikiyaさんの「Appiumを使ってみた話」です。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>「チームが機能するとはどういうことか」を少し読んだことと #pmconfjp でDavid氏から聞いた話について</title>
      <link>http://blog.kenjiskywalker.org/blog/2016/12/01/how-organizations-learn/</link>
      <pubDate>Thu, 01 Dec 2016 05:26:05 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2016/12/01/how-organizations-learn/</guid>
      <description>

&lt;p&gt;この記事は&lt;a href=&#34;http://qiita.com/advent-calendar/2016/classi&#34;&gt;Classi Advent Calendar 2016&lt;/a&gt; 2日目の記事です。&lt;br /&gt;
多様な文化や職能の人と一緒に仕事を進める中で感じた、課題と学びについてのメモです。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E3%83%81%E3%83%BC%E3%83%A0%E3%81%8C%E6%A9%9F%E8%83%BD%E3%81%99%E3%82%8B%E3%81%A8%E3%81%AF%E3%81%A9%E3%81%86%E3%81%84%E3%81%86%E3%81%93%E3%81%A8%E3%81%8B-%E2%80%95-%E3%80%8C%E5%AD%A6%E7%BF%92%E5%8A%9B%E3%80%8D%E3%81%A8%E3%80%8C%E5%AE%9F%E8%A1%8C%E5%8A%9B%E3%80%8D%E3%82%92%E9%AB%98%E3%82%81%E3%82%8B%E5%AE%9F%E8%B7%B5%E3%82%A2%E3%83%97%E3%83%AD%E3%83%BC%E3%83%81-%E3%82%A8%E3%82%A4%E3%83%9F%E3%83%BC%E3%83%BB%EF%BC%A3%E3%83%BB%E3%82%A8%E3%83%89%E3%83%A2%E3%83%B3%E3%83%89%E3%82%BD%E3%83%B3-ebook/dp/B00N8J1NPQ%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3D13nightcrows-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00N8J1NPQ&#34; target=&#34;_blank&#34; title=&#34;チームが機能するとはどういうことか ― 「学習力」と「実行力」を高める実践アプローチ&#34;&gt;&lt;img src=&#34;http://ecx.images-amazon.com/images/I/51LLWrUphuL.jpg&#34; width=&#34;220&#34; height=&#34;300&#34; alt=&#34;チームが機能するとはどういうことか ― 「学習力」と「実行力」を高める実践アプローチ&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.sushi.money/entry/2016/11/21/114407&#34;&gt;「チームが機能するとはどういうことか」を読んでておもしろかったところ - hitode909の日記&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.shibayu36.org/entry/2016/09/24/235335&#34;&gt;「チームが機能するとはどういうことか」を読んだ - $shibayu36-&amp;gt;blog;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;要点&#34;&gt;要点&lt;/h2&gt;

&lt;p&gt;みんなでメシ行って仲良くなって学習しながら挑戦してこ&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://blog.kenjiskywalker.org/images/pmconf-david.jpg&#34;&gt;&lt;br /&gt;
上の写真は&lt;a href=&#34;http://pmconf.jp&#34;&gt;Japan Product Manager Conference 2016&lt;/a&gt;に参加した時に&lt;br /&gt;
DevJamのDavid氏のスプリントの話の中で「学習」という項目があったので&lt;br /&gt;
よくわからずAsk the speakerで色々話した時のDavid氏から頂いたメモです。&lt;/p&gt;

&lt;p&gt;「何をするか」ではなく「何を届けたか」にフォーカスすることと&lt;br /&gt;
そのスプリント期間の中で「何を学んだ」のかを話し合うみたいなことを話してたと思っていたけど&lt;br /&gt;
今このエントリーを書いていて、あれ、違うんじゃね？と気が付いた。&lt;/p&gt;

&lt;p&gt;つまりDavid氏の学びは&lt;strong&gt;&lt;em&gt;施策での&lt;/em&gt;&lt;/strong&gt;学びであり、私が期待したのは&lt;br /&gt;
その期間で&lt;strong&gt;&lt;em&gt;メンバーが&lt;/em&gt;&lt;/strong&gt;何を学んだのかという点であった。&lt;br /&gt;
(もし解釈が間違っていたら教えてください)&lt;/p&gt;

&lt;h2 id=&#34;学び&#34;&gt;学び&lt;/h2&gt;

&lt;p&gt;私はサッカーが好きで、よくサッカーの試合を見るのだけれど、&lt;br /&gt;
こういう戦術でいこうとチームの監督が決めて試合に挑んだとしても&lt;br /&gt;
やはり試合をはじめてみると全然うまく行かなかったり、&lt;br /&gt;
当初想定していたものと違う状態になったりする。本当に強いチームは&lt;br /&gt;
監督や選手が状況を学習し、適応して状況を打開していく。&lt;/p&gt;

&lt;p&gt;仕事も似たようなもので、特に背景や文化の異なるメンバーが集まって&lt;br /&gt;
答えがなかなか見えないものに挑戦する場合には&lt;br /&gt;
冒頭の「チームが機能するとはどういうことか」に記載されているように&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;簡単に言えば、チーミングとは、新たなアイデアを生み、答えを探し、問題を解決するために人々を団結させる働き方のことだ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;こういうものが必要不可欠になってくる。&lt;/p&gt;

&lt;p&gt;特に、何故こうしないのか、こうあるべき、など今までの頭の使い方では&lt;br /&gt;
何も物事は進まなくなり、相互理解が欠落してひたすら仲が悪い組織になってしまう。&lt;/p&gt;

&lt;p&gt;話している相手の世界はどういう文脈なのか、何故そうしたいのか、本当に解決したい課題は何か？&lt;br /&gt;
新卒からひたすら学校営業を続けてきた人や製本一筋の人、問題作成のプロの人や&lt;br /&gt;
会社に限らず、学校の先生、生徒、親御さんなど本当に色々な方とお話をする時に&lt;br /&gt;
例えばエンジニアとしての立場だけで物事を見てしまうと物事のあるひとつの側面でしか&lt;br /&gt;
物事が見れなくなってしまい、相互理解の機会を失ってしまうことがある。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;特定のタイプのリーダーシップがなければ、不確実性や不明確さに取り組むための適切な学習行動はなかなか生まれない。チーミングには、率直に述べたり質問したり考えを共有したりすることを後押しする新しいタイプのリーダーシップが必要なのだ。ひとことで言うなら、チーミングに不可欠なリーダーシップの考え方とは、学習を促す環境をつくろうとするものだ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;この話や&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;仕事の成功に欠かせない知識は多様で、さまざまな場所に存在する。成功するには、グループは知識に近づき、その知識の最良の使い方について共通の理解を深め、新たな洞察を反映する方法で一体となって行動しなければならない。これはつまり、グループでの仕事はしばしば集団的学習を必要とするということである&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;この話のように、&lt;br /&gt;
一部コミュニティで流行っている「心理的安全」というキーワードもそれに関連するもので&lt;br /&gt;
いかに関係するメンバー同士が忌憚なく議論をぶつけ合える場を提供するかが大事になってくる。&lt;br /&gt;
（もちろんめちゃくちゃ偉い人や社外の人などとの意見の出し合いでは特にそれは難しくなるが）&lt;/p&gt;

&lt;p&gt;私は性格が悪いのでリーダーシップとは無縁な世界で生きているけど、&lt;br /&gt;
運良く会社の人たちが当事者意識持った人が多いので、課題意識がある人たちに集まってもらって&lt;br /&gt;
課題を共有してどうしたらいいすかね？みたいな感じで雑なことを聞くと&lt;br /&gt;
いい感じに議論が発生していい感じの答えが出てひたすら最高という状態になっている。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;最近主体的に動こうと思うようになれたのは、元同僚がそのように主体的に行動し、&lt;br /&gt;
人を巻き込む力を持っていた人で、大変参考になるロールモデルになった。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;で-結局今は何に挑戦してるの&#34;&gt;で、結局今は何に挑戦してるの？&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;朝会やめてSlackで今日やることを共有して朝の良い時間に効率よく集中できるように&lt;/li&gt;
&lt;li&gt;開発チームの定例会議で議題が発散してしまっていたので完全に技術だけに焦点を絞るようにした&lt;/li&gt;
&lt;li&gt;極力経営層レベルから技術的観点を入れる為に&lt;a href=&#34;https://www.wantedly.com/companies/classi/projects&#34;&gt;社員さんたち&lt;/a&gt;が偉い人会議に参加する&lt;/li&gt;
&lt;li&gt;カスタマーサポートの人たちの課題をヒアリングする&lt;/li&gt;
&lt;li&gt;先生や生徒の話を聞きに行く（これは前からずっとやっている）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;偉そうなこと書いている割にはやってることが地味で面白い。&lt;br /&gt;
挙げると他にも地味なことを色々やっている。とにかく細かくて地味なことをひたすら改善し続けている。&lt;br /&gt;
目的は文化や職能が違う人同士がいかに無駄なくいい感じに仕事ができるようにするかに注力している。&lt;/p&gt;

&lt;p&gt;俺なんかがこんな偉い人とガチトークして良いんだろうか？と思うぐらい職場の通気性良すぎて&lt;br /&gt;
やることは無限にあるんだけど、やっぱり子どもたちの可能性はわけのわからないことで潰してはいけないし&lt;br /&gt;
それがテクノロジーで多少なりとも貢献できるならどんどんやっていきたいし&lt;a href=&#34;https://www.wantedly.com/companies/classi/projects&#34;&gt;新しい社員さん&lt;/a&gt;来てくれ！&lt;/p&gt;

&lt;h3 id=&#34;色々書いたけど&#34;&gt;色々書いたけど&lt;/h3&gt;

&lt;p&gt;みんなでメシ行ってしょーもない話して理解してこ&lt;/p&gt;

&lt;p&gt;&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;en&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;結局相互理解が足りなくて仲悪いのが悪いみたいなしょーもないオチなんじゃないかって最近感じてる / “なぜあなたのチームの プロダクトは太ってしまうのか &lt;a href=&#34;https://twitter.com/hashtag/postudy?src=hash&#34;&gt;#postudy&lt;/a&gt; // Speaker Deck” &lt;a href=&#34;https://t.co/CY8pD8xqt7&#34;&gt;https://t.co/CY8pD8xqt7&lt;/a&gt;&lt;/p&gt;&amp;mdash; ブラッド・ピット (@kenjiskywalker) &lt;a href=&#34;https://twitter.com/kenjiskywalker/status/803617958056427522&#34;&gt;November 29, 2016&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>courseraにてHuman-Centered Designを学んだ</title>
      <link>http://blog.kenjiskywalker.org/blog/2016/11/22/human-centerd-design/</link>
      <pubDate>Tue, 22 Nov 2016 20:56:56 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2016/11/22/human-centerd-design/</guid>
      <description>

&lt;h3 id=&#34;tl-dr&#34;&gt;TL,DR&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://waic.jp/docs/WCAG20/Overview.html&#34;&gt;Web Content Accessibility Guidelines&lt;/a&gt;や&lt;a href=&#34;http://tooljp.com/jyosho/docs/Jakob-Nielsen-s-10-general-principles-for-interaction-design/Jakob-Nielsen-s-10-general-principles-for-interaction-design.html&#34;&gt;ニールセンのユーザビリティ10原則&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;暗中模索よりも仮説と実証、フィードバックを繰り返して手を動かす&lt;/li&gt;
&lt;li&gt;量は質を超える&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;本文&#34;&gt;本文&lt;/h1&gt;

&lt;h2 id=&#34;動機&#34;&gt;動機&lt;/h2&gt;

&lt;p&gt;興味本位&lt;/p&gt;

&lt;h2 id=&#34;どのように学んだか&#34;&gt;どのように学んだか&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.coursera.org&#34;&gt;coursera&lt;/a&gt;というMOOCsのサービスを利用して&lt;br /&gt;
UCSDのScott Klemmer氏の&lt;a href=&#34;https://www.coursera.org/learn/human-computer-interaction&#34;&gt;Human-Centered Design&lt;/a&gt;の授業を受けた。&lt;/p&gt;

&lt;p&gt;この授業は日本語字幕もあり、3 weeks となってはいるが&lt;br /&gt;
1回の講義が10~20分程度のものなので、比較的無理なく続けられる。&lt;br /&gt;
(と言っても私は3回目のチャンレジでやっと完走したが&amp;hellip;)&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;以下学びのメモ&lt;/p&gt;

&lt;h1 id=&#34;デザインのアプローチ&#34;&gt;デザインのアプローチ&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;ユーザが本当に必要なもの&lt;/li&gt;
&lt;li&gt;チームの認識を合わせるためのもの&lt;/li&gt;
&lt;li&gt;画面に見えるものだけがデザインではない&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;チームの認識の齟齬に対してのアプローチ&#34;&gt;チームの認識の齟齬に対してのアプローチ&lt;/h2&gt;

&lt;p&gt;私の環境では、&lt;br /&gt;
企画、営業、開発の3つの役割を持った組織が同じ製品をあつかっていても&lt;br /&gt;
認識が上手く合わせられず、要件や実装の手戻りが多発してしまっていた。&lt;br /&gt;
この解決方法としては、とにかく&lt;strong&gt;&lt;em&gt;目に見えて動くもの&lt;/em&gt;&lt;/strong&gt;をつくり、&lt;br /&gt;
そのものを見ながらはなすべきである。&lt;/p&gt;

&lt;p&gt;必要なのは、その場面では精度が必要なのか、&lt;br /&gt;
ざっくりとでも動くものが必要なのかを判断し、&lt;br /&gt;
できうる速度でものをつくり、そのものを見ながら関係者で認識を合わせる。&lt;br /&gt;
こうすることで、&lt;strong&gt;&lt;em&gt;思い違い&lt;/em&gt;&lt;/strong&gt;や&lt;strong&gt;&lt;em&gt;勘違い&lt;/em&gt;&lt;/strong&gt;などを極力減らせる(はず)。&lt;/p&gt;

&lt;h1 id=&#34;プロトタイプについて&#34;&gt;プロトタイプについて&lt;/h1&gt;

&lt;p&gt;本講義で印象に残った3つのプロトタイプについて記述しておく&lt;/p&gt;

&lt;h3 id=&#34;walter-dorwin-teague氏のboeing社でのprototyping&#34;&gt;Walter Dorwin Teague氏のBoeing社でのPrototyping&lt;/h3&gt;

&lt;p&gt;倉庫で飛行機のプロトタイプをつくり、実際に&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;旅行用の荷物を持った人を連れて体験のテストをした&lt;/li&gt;
&lt;li&gt;大陸横断と同じ時間席に座るテスト&lt;/li&gt;
&lt;li&gt;客室乗務員が食べ物などを運ぶ際テスト&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;このテストを行うことで、シートの快適さや、通路の幅、荷物の棚の大きさなど&lt;br /&gt;
あらゆる項目を確認することができた。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;メモ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;想像とやってみることは全然違うので、  想定されるペルソナや&lt;br /&gt;
利用する環境が決まっているなら、実際にそのユーザに、&lt;br /&gt;
その環境(もしくは限りなく近い状況)でサービスを利用してもらうべき。&lt;br /&gt;
呼び出して使い勝手を確認する方法も利点はあるが、可能であれば&lt;br /&gt;
実際に利用される環境で試す方がより正確なフィードバックが得られる。&lt;/p&gt;

&lt;h2 id=&#34;video-prototyping&#34;&gt;Video Prototyping&lt;/h2&gt;

&lt;p&gt;例：&lt;a href=&#34;https://www.youtube.com/watch?v=kWsBvUnvCmg&#34;&gt;https://www.youtube.com/watch?v=kWsBvUnvCmg&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;プロモーションビデオのようなもの&lt;/p&gt;

&lt;h3 id=&#34;利点&#34;&gt;利点&lt;/h3&gt;

&lt;p&gt;ペーパープロトタイピングよりも素早く試行できる。&lt;br /&gt;
動かなくても良いところが良い。エンジニアは動画を見て、どのような機能があれば良いか
判断しやすくなる。工数的に大勢のサポートが必要な場合や、経営者や投資家などに&lt;br /&gt;
対するプレゼンとしても有効である。&lt;/p&gt;

&lt;h3 id=&#34;video-prototypingで必要なこと&#34;&gt;Video Prototypingで必要なこと&lt;/h3&gt;

&lt;p&gt;・動機を説明する&lt;br /&gt;
・ゴールを説明する&lt;br /&gt;
・必要な作業を説明する&lt;/p&gt;

&lt;p&gt;進め方&lt;/p&gt;

&lt;p&gt;・概要、背景を演説する&lt;br /&gt;
・即興でやってもいい、ビデオで回しても良い&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;メモ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;想像でシチュエーションを話し出すと&lt;br /&gt;
ある人は通学中であったり、ある人は授業中であったり、ある人は放課後であったり&lt;br /&gt;
認識がズレていることにさえ気づけない場合があるので大変効果的である。&lt;br /&gt;
関係者の想像に頼る部分を極力なくしていく方法としては&lt;br /&gt;
ベストに近い印象があるが実際はどうなのだろうか。&lt;/p&gt;

&lt;h2 id=&#34;paper-prototyping&#34;&gt;Paper Prototyping&lt;/h2&gt;

&lt;p&gt;私が在籍したチームや会社はやったことがないのだが、知り合いに聞く限り&lt;br /&gt;
よく利用されているテスト方式であり、ビデオプロトタイピングの次に認識を合わせやすい。&lt;/p&gt;

&lt;h3 id=&#34;paper-prototypingで気をつけること&#34;&gt;Paper Prototypingで気をつけること&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;素早くやり、再利用できるものをつくろう&lt;/li&gt;
&lt;li&gt;つくったものはまとめておく、壊れたりなくしたりしないようにする&lt;/li&gt;
&lt;li&gt;プログレスバーやinteractiveな状態をシュミレートも一旦書いてみよう&lt;/li&gt;
&lt;li&gt;重要なところは太く、重要でないところは細く書こう&lt;/li&gt;
&lt;li&gt;スライディングウィンドウ・画面の深さを持たせよう&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;メモ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;その他に、オズの魔法使いという方法もあった。&lt;br /&gt;
ペーパープロトタイピング実践するならやったことある人に教えを請いたい。&lt;/p&gt;

&lt;h2 id=&#34;parallel-prototyping&#34;&gt;Parallel Prototyping&lt;/h2&gt;

&lt;p&gt;並行プロトタイピングはひとつのプロトタイピングを行うより合理的で経済的でおすすめとのこと&lt;/p&gt;

&lt;h3 id=&#34;利点-1&#34;&gt;利点&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;平行で作っているもの同士を比較しフィードバックを得ることができる&lt;/li&gt;
&lt;li&gt;ビジネスの学習を2つ平行で学ぶと、双方を比較したり類似点を発見したりすることができ結果的に3倍の知識量になる&lt;/li&gt;
&lt;li&gt;複数のものを共有すると敵対心がなくなる、意見が複数出てくる&lt;/li&gt;
&lt;li&gt;複数つくることはボキャブラリーを生む&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;メモ
並行プロトタイプやりたいわ〜、無理矢理にでもやってみたいわこれ。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&#34;デザインの落とし込み&#34;&gt;デザインの落とし込み&lt;/h1&gt;

&lt;p&gt;試行したものから得られるフィードバックについての注意点&lt;/p&gt;

&lt;h2 id=&#34;エクストリームユーザに気をつけろ&#34;&gt;エクストリームユーザに気をつけろ&lt;/h2&gt;

&lt;p&gt;質問と観察、観察、そして観察&lt;/p&gt;

&lt;h3 id=&#34;エクストリームユーザ-リードユーザ&#34;&gt;エクストリームユーザ、リードユーザ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;利用する大多数は中流なのだからトップのユーザではなく中流から始める&lt;/li&gt;
&lt;li&gt;トップは自意識過剰、保護する立場と権限を持っている&lt;/li&gt;
&lt;li&gt;リードユーザーは巧妙な解決策を思いつく、デザイナーはそのイマジネーションを参考にできるがマジョリティではない&lt;/li&gt;
&lt;li&gt;電子メールの例でいうと、平均よりもメールを多く受け取っているユーザがエクストリームユーザである。&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;山奥で月に一度メールを受け取るユーザもそうだし、シリコンバレーのスタートアップのCEOのように&lt;br /&gt;
毎日数千のメールを受け取っているユーザもそう、エクストリームユーザは実際のユーザではないことに気をつける。&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;質問&#34;&gt;質問&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;ログから質問してもいい。この機能を使っていないようですがなぜですかなど？&lt;/li&gt;
&lt;li&gt;どれぐらい運動しますか？と聞いても被質問者は絶対多めに言ってくる&lt;/li&gt;
&lt;li&gt;より具体的に、より最新の新鮮な記憶に頼る質問をする&lt;/li&gt;
&lt;li&gt;絶対尺度で聞くのをやめる。10のうちの7はどういうことですか？など&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;観察&#34;&gt;観察&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;ある機能について知りたければ質問するな、観察しろ&lt;/li&gt;
&lt;li&gt;質問をした後回答を待つ。その沈黙こそがお金、silence is golden&lt;/li&gt;
&lt;li&gt;素早い回答よりも、2度目の沈黙後の回答の方が興味深い&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;メモ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;絶対尺度で聞くのをやめるとか、それ満足度調査のことか。&lt;br /&gt;
そちらを学びたい。沈黙は金なりってのは本当にそうだよな。&lt;br /&gt;
インタビューについてはインタビューのノウハウがあるので必要になったら&lt;br /&gt;
都度学んでいきたい。&lt;/p&gt;

&lt;h1 id=&#34;受講してみて&#34;&gt;受講してみて&lt;/h1&gt;

&lt;p&gt;学びしかないが時間がかかる。&lt;br /&gt;
今回は日本語字幕もあったので英語の補完が可能であったが、&lt;br /&gt;
ネイティブ英語をひたすら聞く感じだと厳しいので&lt;br /&gt;
引き続き色々やっていきたい。&lt;/p&gt;

&lt;p&gt;これから関わる話は今回学んだプロトタイプを適用できないか試していきたい。&lt;br /&gt;
並行プロトタイピングとビデオプロトタイピングはやっていきたいなー&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A Film About CoffeeをVimeo On Demandで見た</title>
      <link>http://blog.kenjiskywalker.org/blog/2016/11/22/a-film-about-coffee/</link>
      <pubDate>Tue, 22 Nov 2016 12:40:54 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2016/11/22/a-film-about-coffee/</guid>
      <description>&lt;p&gt;&lt;iframe src=&#34;https://player.vimeo.com/video/189791646&#34; width=&#34;640&#34; height=&#34;360&#34; frameborder=&#34;0&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href=&#34;https://vimeo.com/189791646&#34;&gt;『A FILM ABOUT COFFEE』&lt;/a&gt; from &lt;a href=&#34;https://vimeo.com/uplinkcloud&#34;&gt;UPLINK Cloud&lt;/a&gt; on &lt;a href=&#34;https://vimeo.com&#34;&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;

&lt;p&gt;渋谷にある映画館、UPLINKがVimeoを利用した映画配信を開始した。&lt;br /&gt;
早速昔見逃した「A Film About Coffee」を見た。&lt;br /&gt;
大変良かった。こういう映画もオンデマンドで見れるようになると&lt;br /&gt;
本当にありがたい。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>第95回全国高校サッカー選手権大会千葉県大会決勝を見てきた</title>
      <link>http://blog.kenjiskywalker.org/blog/2016/11/21/watching-national-high-school-finaltournament-in-chiba/</link>
      <pubDate>Mon, 21 Nov 2016 00:33:23 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2016/11/21/watching-national-high-school-finaltournament-in-chiba/</guid>
      <description>&lt;p&gt;&lt;blockquote class=&#34;instagram-media&#34; data-instgrm-captioned data-instgrm-version=&#34;7&#34; style=&#34; background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);&#34;&gt;&lt;div style=&#34;padding:8px;&#34;&gt; &lt;div style=&#34; background:#F8F8F8; line-height:0; margin-top:40px; padding:50.0% 0; text-align:center; width:100%;&#34;&gt; &lt;div style=&#34; background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;&#34;&gt;&lt;/div&gt;&lt;/div&gt; &lt;p style=&#34; margin:8px 0 0 0; padding:0 4px;&#34;&gt; &lt;a href=&#34;https://www.instagram.com/p/BNBDHT3hdyL/&#34; style=&#34; color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;&#34; target=&#34;_blank&#34;&gt;高校サッカー選手権千葉県決勝、きちゃった❤️&lt;/a&gt;&lt;/p&gt; &lt;p style=&#34; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;&#34;&gt;A photo posted by kenjiskywalker (@kenjiskywalker) on &lt;time style=&#34; font-family:Arial,sans-serif; font-size:14px; line-height:17px;&#34; datetime=&#34;2016-11-20T03:10:49+00:00&#34;&gt;Nov 19, 2016 at 7:10pm PST&lt;/time&gt;&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;script async defer src=&#34;//platform.instagram.com/en_US/embeds.js&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;画像は暗いけどめちゃくちゃ天気よくて暖かった(20度ぐらいあったかな？)&lt;br /&gt;
今年の千葉大会決勝は夏の全国の決勝と同カードであったので&lt;br /&gt;
(&lt;a href=&#34;http://www.jfa.jp/match/prince_takamado_trophy_u18_2016/premier_2016/east/standings/&#34;&gt;プレミアリーグ&lt;/a&gt;では流経大柏は厳しそう)&lt;br /&gt;
この2チームのうち、1チームは全国に行けないのか、もったいないな〜という気持ちと&lt;br /&gt;
千葉代表をかけた戦いの熱量ってどんなもんなんだろう、ということで1人で会場の蘇我まで行ってきた。&lt;/p&gt;

&lt;p&gt;座席の後ろがジェフのコアサポおじさんたちで、流経大柏の応援が柏レイソルの応援を多用していて&lt;br /&gt;
何故だか俺は市船を応援したくなってきたぜ&amp;hellip;と言っていて面白かった。&lt;/p&gt;

&lt;p&gt;どうやら屋台も観客も、J2よりも下手したら多い？などと賑わっていて、&lt;br /&gt;
スタジアムも大変活気づいていた。会場であるフクダ電子アリーナは初めてだったが、&lt;br /&gt;
噂通りの大変良いスタジアムだった。専用スタジアムはいいなぁ。&lt;/p&gt;

&lt;p&gt;試合内容は最高に面白かった。実況の様子を記載しておく&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;市立船橋太田くんのドリブルは面白い、好きだわ&amp;hellip;&lt;/li&gt;
&lt;li&gt;菊池くんのシュートゴールラインでクリアされた！！！&lt;/li&gt;
&lt;li&gt;市船の原杉岡のJ内定CB vs 流経のロングスローヤバい&amp;hellip;&lt;/li&gt;
&lt;li&gt;市船の原くん普通に上手い&lt;/li&gt;
&lt;li&gt;流経の菊池くん上手い&amp;hellip;&lt;/li&gt;
&lt;li&gt;やってるサッカーは流経大柏の方が好きだわ&lt;/li&gt;
&lt;li&gt;市船の真瀬くんが地味に効いている、この時間であの運動量は脅威だわ&amp;hellip;&lt;/li&gt;
&lt;li&gt;おわった、市船、王者感があるけど流経大柏も全国で見てみたかった&lt;/li&gt;
&lt;li&gt;流経の関くんはサッカー続けるならプロで活躍できそう&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;など色々興奮してた。高校サッカーは観客も、小学生の親御さんや引率の地域のコーチ、&lt;br /&gt;
中学生や高校生、大学でサッカーを続けている大学生、大学でサッカーをやめて&lt;br /&gt;
彼女と一緒に観戦しに来ているイケメン大学生(個人的にはこの引退して彼女を連れてくるヤツが好き)、&lt;br /&gt;
地元のサッカー好きのおじさんやおばさん、ただのサッカー好きなど、多種多様な人が観戦しに来ていた。&lt;/p&gt;

&lt;p&gt;1人で行ったので、試合中は黙ってようと思ったけど、&lt;br /&gt;
無意識に「うぉおお！！」「マジか&amp;hellip;」「すげぇ&amp;hellip;」&lt;br /&gt;
などと連呼していてヤバいおじさんだったに違いない。&lt;/p&gt;

&lt;p&gt;帰り道、サッカー好きのおじさんたちが、何故高校サッカーはこれだけ1vs1で仕掛けるのに&lt;br /&gt;
Jだとチンタラしているんだろうと話してた。&lt;br /&gt;
私は基本的に海外厨なので意識したことはあまりないが&lt;br /&gt;
この高校サッカー選手権の熱量だけは、特別に好きだ。&lt;/p&gt;

&lt;p&gt;次は毎年恒例の1回戦三ツ沢と準決勝埼スタで見るぞ〜&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>#pmconfjp に参加してきた</title>
      <link>http://blog.kenjiskywalker.org/blog/2016/11/08/pmconfjp-2016/</link>
      <pubDate>Tue, 08 Nov 2016 00:14:56 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2016/11/08/pmconfjp-2016/</guid>
      <description>

&lt;h2 id=&#34;イベントの感想&#34;&gt;イベントの感想&lt;/h2&gt;

&lt;h3 id=&#34;tl-dr&#34;&gt;TL;DR&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;メルカリすごい。全員メルカリ見習おう。会議捨てよう。&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;人事評価の話が少なくておどろいた。大きい企業は待遇が良いし小さい企業はやりがいで補えているのだろうか&lt;/li&gt;
&lt;li&gt;DevJamのDavid Hussman氏のAsk the Speakerで回答してもらった内容を消化して共有したい&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;長い感想&#34;&gt;長い感想&lt;/h3&gt;

&lt;p&gt;2日間の開催だったが、運営が本当にしっかりしており&lt;br /&gt;
1日目で要望の多かったものが翌日には改善されていたりと&lt;br /&gt;
これがプロダクトマネージャーなのか、と心底驚いた。&lt;/p&gt;

&lt;p&gt;&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;en&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;当日アンケートの結果、机が欲しい、電源が欲しい、毎セッションQAをやって欲しい、との要望が多かったため、対応いたしました。&lt;br&gt;&lt;br&gt;また明日のご来場心よりお待ちしております。&lt;a href=&#34;https://twitter.com/hashtag/pmconfjp?src=hash&#34;&gt;#pmconfjp&lt;/a&gt; &lt;a href=&#34;https://t.co/nCyqWNZJZ8&#34;&gt;pic.twitter.com/nCyqWNZJZ8&lt;/a&gt;&lt;/p&gt;&amp;mdash; pmconf.jp (@pmconfjp) &lt;a href=&#34;https://twitter.com/pmconfjp/status/790539139670155266&#34;&gt;October 24, 2016&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;また、イベントで特に象徴的だったのは、及川さんが雑務を率先してされていて&lt;br /&gt;
ああ、プロダクトマネージャーとはみんなが気持ちよく参加してもらうためには&lt;br /&gt;
ふんぞり返って偉そうにしていたり、人に指示ばかりしていてはダメなんだなと&lt;br /&gt;
とても感動した。特に私は既得権益への憧れが強く、行動も遅いので&lt;br /&gt;
本当に参考になった。&lt;/p&gt;

&lt;p&gt;&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;en&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;及川さんが会場の雑務みたいなことめちゃくちゃされていて、これが本物のプロダクトマネージャーの姿なのか&amp;hellip; って目に焼き付けている&amp;hellip;&lt;/p&gt;&amp;mdash; kenjiskywalker (@kenjiskywalker) &lt;a href=&#34;https://twitter.com/kenjiskywalker/status/790443225047674880&#34;&gt;October 24, 2016&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;h2 id=&#34;得られた知見&#34;&gt;得られた知見&lt;/h2&gt;

&lt;p&gt;私は西海岸のナウい最新のイケてるやり方とかは一切知らないが、&lt;br /&gt;
効率よく進んで黒字化したプロジェクトよりも、&lt;br /&gt;
不器用でも毎日深夜残業してみんなで頑張った感を出してどうにか黒字化したプロジェクトの方が&lt;br /&gt;
礼賛される文化をよく見てきて「帝国陸軍も他人事じゃねぇな&amp;hellip;」と日々感じていたので&lt;br /&gt;
イケてる最新のウェッブ企業がどのように製品をリリースしているのかは興味があった。&lt;/p&gt;

&lt;p&gt;また、私自身が関わっている製品、サービスにおいて、人と人のコミュニケーションの問題で&lt;br /&gt;
なかなか上手く行かない、特に各役割の担当が別の役割の担当とのコミュニケーションを放棄して&lt;br /&gt;
自分達でどうにか製品を成功させようとし、その結果悲惨なものができあがり、&lt;br /&gt;
誰もうれしくないものが出来上がる過程を散々見てきた。&lt;/p&gt;

&lt;p&gt;そのような地獄をどうやって回避すれば良いのか、知見を得たかった。&lt;br /&gt;
2日間参加して得た知見としては、業態や提供している製品やサービスの規模、&lt;br /&gt;
国や文化などによって違うよね、という漠然とした内容と&lt;br /&gt;
とにかくメルカリのスタイルを参考にソリッドにやっていくぞ！&lt;br /&gt;
というやっていく気持ちになった。&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;以下メモ&lt;/p&gt;

&lt;h1 id=&#34;プロダクトマネージャーの実践の為に必要な環境とは&#34;&gt;プロダクトマネージャーの実践の為に必要な環境とは&lt;/h1&gt;

&lt;p&gt;手段が目的になってはいけない、&lt;br /&gt;
目的ありきの手段の選択でなければならない&lt;/p&gt;

&lt;h2 id=&#34;プロダクトマネージャーが理解される環境が必要&#34;&gt;プロダクトマネージャーが理解される環境が必要&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;参考: &lt;a href=&#34;http://mercan.mercari.com/entry/2016/10/26/183000&#34;&gt;mercariの事例&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;プロダクトオリエンテッドについて経営層に理解し、協力してもらう&lt;/li&gt;
&lt;li&gt;プロダクトオリエンテッド理解のある経営層がいる会社で働く&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;どのようにプロダクトマネージャーへ成長する場をつくるか&#34;&gt;どのようにプロダクトマネージャーへ成長する場をつくるか&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;環境: プロダクトマネージャーの失敗への理解がある場をつくる&lt;/li&gt;
&lt;li&gt;人: ロールモデル、参考になるプロダクトマネージャーが近くにいた&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;プロダクトオーナーの役割とは&#34;&gt;プロダクトオーナーの役割とは&lt;/h1&gt;

&lt;p&gt;関わっているプロダクトや所属している会社の規模、業態、国などに&lt;br /&gt;
大きく依存している部分。車みたいなもので、大きな荷物が運べるとか&lt;br /&gt;
すごいスピードとか、大人数乗せられるとか、ものによって変わる&lt;/p&gt;

&lt;h2 id=&#34;例に挙がったもの&#34;&gt;例に挙がったもの&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;mini CEO&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;求められる力こと&#34;&gt;求められる力こと&lt;/h2&gt;

&lt;h3 id=&#34;裁量に対しての責任感&#34;&gt;裁量に対しての責任感&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;その為に全ての裁量が与えられているので、最終的な責任を持てる力&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;コミュニケーション力&#34;&gt;コミュニケーション力&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;CEO、上司、VPと計画についての認識を合わせる力&lt;/li&gt;
&lt;li&gt;メンバーに計画を理解してもらっているか把握、調整できる力&lt;/li&gt;
&lt;li&gt;他の上司や同僚のモチベーションを知る力
&lt;a href=&#34;https://rebuild.fm/156/&#34;&gt;https://rebuild.fm/156/&lt;/a&gt; の higeponさんのマネージャとの付き合い方を思い出した&lt;/li&gt;
&lt;li&gt;担当者がオーナーシップをもって物事を進める環境をつくれる力

&lt;ul&gt;
&lt;li&gt;相手の口から言わせる&lt;/li&gt;
&lt;li&gt;これがやりたかったって思ってもらうのが腕の見せ所&lt;/li&gt;
&lt;li&gt;何度も何度も同じことを繰り返し伝えることができる力&lt;/li&gt;
&lt;li&gt;メンバー全員が同じ言葉で目標に対して説明できる環境をつくる力、伝える力&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;しくみをつくる力&#34;&gt;しくみをつくる力&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;理想的ななものを理想的な状態で現実に落とし込む力&lt;/li&gt;
&lt;li&gt;しくみをつくる力

&lt;ul&gt;
&lt;li&gt;変化の仕組みを作る -&amp;gt; 次へ行く -&amp;gt; ルーチーンをしていたら負け&lt;/li&gt;
&lt;li&gt;課題発見 -&amp;gt; マネージメントしてしくみづくり -&amp;gt; 次へ行く&lt;/li&gt;
&lt;li&gt;課題毎に「PM呼んでなんかやってもらおうぜ」&lt;/li&gt;
&lt;li&gt;短期で回す&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ざっくりと&#34;&gt;ざっくりと&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;みんなから信頼される力&lt;/li&gt;
&lt;li&gt;必要であればなんでもする力&lt;/li&gt;
&lt;li&gt;泥臭いことを進んですること&lt;/li&gt;
&lt;li&gt;技術者と最低限同じ言葉で話せる力&lt;/li&gt;
&lt;li&gt;ユーザ理解と多くの引き出しを持つ力&lt;/li&gt;
&lt;li&gt;自走力&lt;/li&gt;
&lt;li&gt;誰かに任せることができる判断力&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;精神と筋肉&#34;&gt;精神と筋肉&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;メンタルヘルスを持つ&lt;/li&gt;
&lt;li&gt;とにかく運動する。運動は精神の濁りを救う&lt;/li&gt;
&lt;li&gt;ちゃんとへこむ時はちゃんとへこむことは大事&lt;/li&gt;
&lt;li&gt;暑いお風呂にゆっくり入る&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;理想を現実に落とし込む力&#34;&gt;理想を現実に落とし込む力&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;理想を妥協せずに現実に落とし込むことができる力&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;サービスについて&#34;&gt;サービスについて&lt;/h1&gt;

&lt;p&gt;この点も狙う市場や会社規模にもよって変わるので一概には言えない&lt;/p&gt;

&lt;h3 id=&#34;概要&#34;&gt;概要&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;スタートアップとは急成長を目指すプロダクト&lt;/li&gt;
&lt;li&gt;良さそうなアイデアは急成長できない

&lt;ul&gt;
&lt;li&gt;狂ったようなアイデア、バカにされるようなアイデアの方が成長する&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;市場&#34;&gt;市場&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;難しい課題の方が簡単

&lt;ul&gt;
&lt;li&gt;社会的に意義があれば人は採用できる&lt;/li&gt;
&lt;li&gt;難しい技術はライバルが少ない&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;市場を大切にする。今は小さいけど成長する可能性のある市場を狙う&lt;/li&gt;
&lt;li&gt;市場の秘密を知っているかどうか、今後伸びるかどうか

&lt;ul&gt;
&lt;li&gt;独占はすべての優先度を持つ&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;戦略&#34;&gt;戦略&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;戦略とは何をやらないか&lt;/li&gt;
&lt;li&gt;アメリカではホームランを狙いにいく&lt;/li&gt;
&lt;li&gt;ホームランを狙ってから落とし所を見つけるのと最初からバント狙いでは辿り着く地点が違う&lt;/li&gt;
&lt;li&gt;勢いがなくなった瞬間に死ぬ&lt;/li&gt;
&lt;li&gt;一部の人が愛してくれるプロダクトをつくる。後々成長する

&lt;ul&gt;
&lt;li&gt;ファン、コアのユーザに答える&lt;/li&gt;
&lt;li&gt;愛にフォーカスする　&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;サービスの運用について&#34;&gt;サービスの運用について&lt;/h2&gt;

&lt;h3 id=&#34;数値&#34;&gt;数値&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;目標とKPIの設定&lt;/li&gt;
&lt;li&gt;メトリクスを設定する&lt;/li&gt;
&lt;li&gt;細かい勝利を繰り返す&lt;/li&gt;
&lt;li&gt;リーンの徹底、ペルソナの測定とそのヒアリングの実施&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;プロトタイプ-改修について&#34;&gt;プロトタイプ、改修について&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;リードしてくれる人を立ててコミュニケーションコストを下げる&lt;/li&gt;
&lt;li&gt;仮説を決めるためのユーザーインタビューとしてインタビューを利用する&lt;/li&gt;
&lt;li&gt;カスタマーの影響のないバグはバグではない&lt;/li&gt;
&lt;li&gt;バグを直すときにユーザー影響から考える&lt;/li&gt;
&lt;li&gt;仕様との差による処理はバグ&lt;/li&gt;
&lt;li&gt;導入支援、デモの実施、潜在的な課題を見つける&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;スケジュール&#34;&gt;スケジュール&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;プロトタイプ合宿、人数を絞って動くものをスピード感持ってつくる&lt;/li&gt;
&lt;li&gt;スケジュールはエンジニアがつくる&lt;/li&gt;
&lt;li&gt;リリースまでに磨きの期間を設ける&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ドキュメンテーション&#34;&gt;ドキュメンテーション&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;関係者が共有できるドキュメントを書くことで無駄な実装を避ける&lt;/li&gt;
&lt;li&gt;問題をクリアにする&lt;/li&gt;
&lt;li&gt;ドキュメントレベルで精度が高いとプッシュバックが極力少ない&lt;/li&gt;
&lt;li&gt;ドキュメントレベルで気付けるよう、開発前に気付けるようになっている&lt;/li&gt;
&lt;li&gt;開発チームから質問が来ないドキュメント&lt;/li&gt;
&lt;li&gt;テスト仕様書と要件と課題が一連の流れのストーリーになっている&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;チームの運用&#34;&gt;チームの運用&lt;/h2&gt;

&lt;h3 id=&#34;心理的安全性をつくる&#34;&gt;心理的安全性をつくる&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;試行錯誤しやすい雰囲気&lt;/li&gt;
&lt;li&gt;失敗や議論が肯定される空気&lt;/li&gt;
&lt;li&gt;情報共有や議論をきちんとしているかを確認&lt;/li&gt;
&lt;li&gt;代表が議論を呼び起こしてそれに対して新卒がコメントをしたりできる&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;知識の蓄積-共有&#34;&gt;知識の蓄積、共有&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;ベストプラクティス共有&lt;/li&gt;
&lt;li&gt;考える人とつくる人を同じにする&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;業務改善&#34;&gt;業務改善&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Slackでpm禁止のルールづくり、議事メモのリンクは置いておく、自発性を重視、失敗は責めない&lt;/li&gt;
&lt;li&gt;足繁く現地に行く、出張推奨、短期の成果を求める、コスパが良いとか何しに行くんだとか求めるの辞めよう&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ルーチンの最適化&#34;&gt;ルーチンの最適化&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;リモートのガイドラインの策定&lt;/li&gt;
&lt;li&gt;朝会でトリアージ(問題の洗い出し)&lt;/li&gt;
&lt;li&gt;営業報告にbotを&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;評価&#34;&gt;評価&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;事業目標とスキル目標の2軸立てている&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;精神&#34;&gt;精神&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;チームが自立していないとやらされ案件になるから自立させる&lt;/li&gt;
&lt;li&gt;当事者意識のある開発チームをつくらなければ良いものはできない&lt;/li&gt;
&lt;li&gt;担当者がオーナーシップをもって物事を進める環境をつくれる力

&lt;ul&gt;
&lt;li&gt;相手の口から言わせる&lt;/li&gt;
&lt;li&gt;これがやりたかったって思ってもらうのが腕の見せ所&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;メンバーの管理-把握&#34;&gt;メンバーの管理、把握&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;こいつはバッファ盛るからな、などを把握しておく&lt;/li&gt;
&lt;li&gt;こいつがヤバいって言っても大丈夫、ダメなのを判断する&lt;/li&gt;
&lt;li&gt;雰囲気を把握する&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;言葉&#34;&gt;言葉&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;I skate to whtere the puck is going to be; not where it&#39;s been&lt;/code&gt;&lt;br /&gt;
明確にせよ、計画を持て&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;Uses gravity for acceleration&lt;/code&gt;&lt;br /&gt;
加速する為に重力を使え&lt;br /&gt;
環境や外圧を利用しろ、発表やイベントをマイルストーンにしてそこに対して期日を切る&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;Is the synapse for the team&lt;/code&gt;&lt;br /&gt;
PMがすべてのアイデアを出すのは難しい、メンバーの能力を生かせることが重要、みんなを繋げる力
アンバサダーであれ、計画を伝える
「何故この計画をやっているのか」誰が聞かれても同じことを言える、&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;言葉は相手をアクティブにする&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;アイデア&#34;&gt;アイデア&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;本、自分の中で応用例がないのに色んな知識の本を読んでも意味がない&lt;/li&gt;
&lt;li&gt;いつもと違う道を歩いてみよう&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>EC2のStatus Checkの変異をSNSを通してPagerDutyからSlackへ通知させる</title>
      <link>http://blog.kenjiskywalker.org/blog/2016/07/12/ec2-status-fail-check/</link>
      <pubDate>Tue, 12 Jul 2016 11:44:00 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2016/07/12/ec2-status-fail-check/</guid>
      <description>

&lt;p&gt;EC2がちょくちょくStatus ChecksがコケてTerminateされていたので&lt;br /&gt;
CloudWatchで見ているStatus Checkの値の変異を見て&lt;br /&gt;
SNSに通知をさせている。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;SNS &amp;lt;-&amp;gt; PagerDuty &amp;lt;-&amp;gt; Slack&lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&#34;参考url&#34;&gt;参考URL&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/monitoring-system-instance-status-check.html&#34;&gt;インスタンスのステータスチェック&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.pagerduty.com/docs/guides/aws-cloudwatch-integration-guide/&#34;&gt;AWS CloudWatch Integration Guide:PagerDuty&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.pagerduty.com/docs/guides/slack-integration-guide/&#34;&gt;Slack Integration Guide:PagerDuty&lt;/a&gt;

&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;一番良いのはEC2が立ち上がってきた時に自分自身に下記設定を導入し&lt;br /&gt;
自分が消える時に設定を削除するのが好ましいが、所々事情があり&lt;br /&gt;
下記のようなスクリプトを特定のEC2で回している。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-rb&#34;&gt;#!/usr/bin/env ruby

region = &#39;REGION&#39;

# インスタンスID一覧を取得する ( --max-items XXX # インスタンス数次第 )
instance_ids = `aws --region #{region} ec2 describe-instances \
                    --max-items XXX \
                    --filters Name=tag-key,Values=Name \
                    | jq -r &#39;.Reservations[].Instances[].InstanceId&#39;
                    `

# CloudWatchでStatusCheckFailed_Checkが設定されているインスタンスID一覧 ( --max-items XXX # インスタンス数次第 )
checked_instance_ids = `aws --region #{region} cloudwatch describe-alarms \
                            --max-items XXX \
                            | jq -r &#39;.MetricAlarms[].AlarmName&#39; \
                            | grep &#39;StatusCheckFailed_Check&#39; \
                            | cut -f 1 -d &#39; &#39;
                            `

# 改行で要素を分割
instance_ids = instance_ids.split(&amp;quot;\n&amp;quot;)
checked_instance_ids = checked_instance_ids.split(&amp;quot;\n&amp;quot;)

# インスタンス一覧にあってCloudWatch側にない監視追加対象のインスタンスID一覧を抽出
new_instance_ids = instance_ids - checked_instance_ids

# CloudWatch側にあってインスタンス一覧にない削除対象のインスタンスID一覧を抽出
deleted_instance_ids = checked_instance_ids - instance_ids

# 監視追加対象のインスタンスID一覧が空でなければCloudWatchに追加していく
unless new_instance_ids.empty?
  new_instance_ids.each do |instance_id|

    # StageというKeyのタグで本番かそれ以外を分けている
    stage = `aws --region #{region} ec2 describe-instances \
                 --instance-ids #{instance_id} \
                 --query &#39;Reservations[].Instances[].Tags[?Key==\`Stage\`].Value&#39; \
                 --output text
                 `.chomp

    # 本番の場合は通知先が違うのでSNSの向き先を変える
    if stage == &#39;production&#39;
      sns_topic = &#39;PRODUCTION_SNS_TOPIC&#39;
    else
      sns_topic = &#39;OTHER_SNS_TOPIC&#39;
    end

    # MAIN: ここで設定を追加する
    `aws --region #{region} cloudwatch put-metric-alarm \
         --alarm-name &amp;quot;#{instance_id} StatusCheckFailed_Check&amp;quot; \
         --metric-name StatusCheckFailed \
         --namespace AWS/EC2 \
         --statistic Maximum \
         --dimensions Name=InstanceId,Value=#{instance_id} \
         --period 60 \
         --unit Count \
         --evaluation-periods 1 \
         --threshold 0 \
         --comparison-operator GreaterThanThreshold \
         --ok-actions #{sns_topic} \
         --alarm-actions #{sns_topic} \
         --insufficient-data-actions #{sns_topic}
         `

    puts &amp;quot;#{instance_id} StatusCheckFailed_Check is created&amp;quot;
  end
end

# 削除対象のインスタンスID一覧が空でなければ設定を削除していく
unless deleted_instance_ids.empty?
  deleted_instance_ids.each do |instance_id|

    # MAIN: ここで設定を削除する
    `aws --region #{region} cloudwatch delete-alarms \
         --alarm-names &amp;quot;#{instance_id} StatusCheckFailed_Check&amp;quot;`

    puts &amp;quot;#{instance_id} StatusCheckFailed_Check is deleted&amp;quot;
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;こんな感じでやってる。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>特定のインスタンスIDのタグのValueを出力する</title>
      <link>http://blog.kenjiskywalker.org/blog/2016/07/12/ec2-tag-describe-instances/</link>
      <pubDate>Tue, 12 Jul 2016 10:31:00 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2016/07/12/ec2-tag-describe-instances/</guid>
      <description>

&lt;h3 id=&#34;query-オプションとかよー使わんわということで個人的メモ&#34;&gt;&lt;code&gt;query&lt;/code&gt;オプションとかよー使わんわということで個人的メモ&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;Name&lt;/code&gt;タグを出力したければこう&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ aws ec2 describe-instances \
          --instance-ids i-XXXXXXXX \
          --query &#39;Reservations[].Instances[].Tags[?Key==`Name`].Value&#39; \
          --output text
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>特定のRoleのEIPが付与されているEC2がTerminateされた時に新しく起動したEC2に浮いたEIPを付与させるスクリプト</title>
      <link>http://blog.kenjiskywalker.org/blog/2016/07/08/samsara-eip/</link>
      <pubDate>Fri, 08 Jul 2016 13:32:00 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2016/07/08/samsara-eip/</guid>
      <description>

&lt;p&gt;件の通り&lt;/p&gt;

&lt;p&gt;&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;en&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;&lt;a href=&#34;https://twitter.com/kenjiskywalker&#34;&gt;@kenjiskywalker&lt;/a&gt; そんな仕組みあるの？&lt;/p&gt;&amp;mdash; そのっつ (Naotoshi Seo) (@sonots) &lt;a href=&#34;https://twitter.com/sonots/status/751219867785711616&#34;&gt;July 8, 2016&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;en&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;&lt;a href=&#34;https://twitter.com/kenjiskywalker&#34;&gt;@kenjiskywalker&lt;/a&gt; クレクレ&lt;/p&gt;&amp;mdash; そのっつ (Naotoshi Seo) (@sonots) &lt;a href=&#34;https://twitter.com/sonots/status/751220071335235585&#34;&gt;July 8, 2016&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;今見直したら結構ひどい感じだったけど一旦公開しておく。&lt;br /&gt;
AWS SDK for Rubyを利用してもいいし、これぐらいならgoで書いても良いスね。&lt;/p&gt;

&lt;h3 id=&#34;仕組み&#34;&gt;仕組み&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Role&lt;/code&gt;  - web, db, app, etc&amp;hellip;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Stage&lt;/code&gt; - development, staging, production, etc&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code&gt;EC2&lt;/code&gt;のインスタンスそれぞれに&lt;a href=&#34;http://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/Using_Tags.html&#34;&gt;タグ&lt;/a&gt;の設定を入れている。&lt;br /&gt;
それぞれのインスタンスは&lt;a href=&#34;http://docs.aws.amazon.com/ja_jp/AutoScaling/latest/DeveloperGuide/WhatIsAutoScaling.html&#34;&gt;AutoScalingGroup&lt;/a&gt;管理下にあり、&lt;br /&gt;
上記タグもそれぞれのAutoScalingGroupにてインスタンス起動時に付与するようになっている。&lt;/p&gt;

&lt;h4 id=&#34;起動時に浮いたeipをアサインさせたい&#34;&gt;起動時に浮いたEIPをアサインさせたい&lt;/h4&gt;

&lt;p&gt;Ref: &lt;a href=&#34;http://qiita.com/toshihirock/items/81d6612511f0d1f5db77&#34;&gt;Qiita:AmazonLinuxのcloud-initについての調査メモ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;cloud-init&lt;/code&gt;のいい感じのオフィシャルドキュメントってどこにあるんだ&amp;hellip;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;/var/lib/cloud/scripts/per-boot/004_assign-elastic-ip.rb&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-rb&#34;&gt;#!/usr/bin/env ruby

#
# 基本的に 各Role に EIP を付与するインスタンスは 2台 毎
# 
#

INSTANCEID  = `curl -s http://169.254.169.254/latest/meta-data/instance-id/`

REGION      = &#39;ap-northeast-1&#39;
ROLE        = `aws --region #{REGION} ec2 describe-instances \
                 --instance-ids #{INSTANCEID} \
                 --output text \
                 --query &#39;Reservations[].Instances[].Tags[?Key==\`Role\`].[Value]&#39; \
                 `.chomp
STAGE       = `aws --region #{REGION} ec2 describe-instances \
                 --instance-ids #{INSTANCEID} \
                 --output text \
                 --query &#39;Reservations[].Instances[].Tags[?Key==\`Stage\`].[Value]&#39; \
                 `.chomp

# foo, bar以外はEIPの付与はないので一旦この条件を設定する
exit 0 unless ROLE == &#39;foo&#39; || ROLE == &#39;bar&#39;

# 浮いたEIPを入れる変数
elasticip_allocation_ids = []

# ROLE と STAGE 毎に保持している EIP は違う
# TODO: hash or json
case ROLE
when &#39;foo&#39;
  if STAGE == &#39;development&#39;
    elasticip_allocation_ids = [&#39;eipalloc-XXXXXXXX&#39;, &#39;eipalloc-XXXXXXXX&#39;]
  elsif STAGE == &#39;staging&#39;
    elasticip_allocation_ids = [&#39;eipalloc-XXXXXXXX&#39;, &#39;eipalloc-XXXXXXXX&#39;]
  else
    exit 0
  end
when &#39;bar&#39;
  if STAGE == &#39;production&#39;
    elasticip_allocation_ids = [&#39;eipalloc-XXXXXXXX&#39;]
  elsif STAGE == &#39;staging&#39;
    elasticip_allocation_ids = [&#39;eipalloc-XXXXXXXX&#39;]
  else
    exit 0
  end
when &#39;baz&#39;
  if STAGE == &#39;production&#39;
    elasticip_allocation_ids = [&#39;eipalloc-XXXXXXXX&#39;]
  elsif STAGE == &#39;staging&#39;
    elasticip_allocation_ids = [&#39;eipalloc-XXXXXXXX&#39;]
  else
    exit 0
  end
else
  exit 0
end

elasticip_allocation_ids.each do |eip_id|
  # 対象のEIPにEC2が紐付いているか確認(浮いたEIPを探す)
  assigned_instance_id = `aws --region #{REGION} ec2 describe-addresses \
                            --allocation-ids #{eip_id} \
                            | jq &#39;.Addresses[].InstanceId&#39; \
                            `.chomp
  
  # 浮いたEIPがあれば付与する処理へ移る
  next unless assigned_instance_id == &#39;null&#39;
  
  # EIPを付与する
  `aws --region #{REGION} ec2 associate-address \
     --allocation-id #{eip_id} \
     --instance-id #{INSTANCEID}`
  puts &amp;quot;COMPLETE: associate-address --allocation-id #{eip_id} --instance-id #{INSTANCEID}&amp;quot;
  exit 0
end

puts &amp;quot;CANNOT ASSOCIATE EIP to `hostname`&amp;quot;
exit 1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;という感じで&lt;code&gt;/var/lib/cloud/scripts/per-boot/&lt;/code&gt;配下にスクリプトを置いている。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>問題があったのでfluentdでsigdumpを使いstactraceしてmackerel-client-rubyにPRした話</title>
      <link>http://blog.kenjiskywalker.org/blog/2016/07/08/mackerel-meets-fluentd-and-debug-it/</link>
      <pubDate>Fri, 08 Jul 2016 12:45:00 +0900</pubDate>
      
      <guid>http://blog.kenjiskywalker.org/blog/2016/07/08/mackerel-meets-fluentd-and-debug-it/</guid>
      <description>

&lt;p&gt;みんなのネットワーク環境が安定しているのか..&lt;br /&gt;
我々の世界線にノイズが混在してしまっているのか&amp;hellip;&lt;/p&gt;

&lt;p&gt;それを調べるすべはないが、下記のような問題があった。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mackerel&lt;/code&gt;で突然グラフが表示されなくなる&lt;/li&gt;
&lt;li&gt;そのグラフを表示しているのは&lt;code&gt;fluent-plugin-mackerel&lt;/code&gt;を利用して&lt;code&gt;fluentd&lt;/code&gt;経由で作成している&lt;/li&gt;
&lt;li&gt;その&lt;code&gt;td-agent&lt;/code&gt;は再起動しようとすると&lt;code&gt;Timeout error&lt;/code&gt;になる&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ということで怪奇現象を解決する為にやったことをメモ&lt;/p&gt;

&lt;h3 id=&#34;愚直に-td-agent-の再起動を試みてみる&#34;&gt;愚直に&lt;code&gt;td-agent&lt;/code&gt;の再起動を試みてみる&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;[watashi@example-host ~]$ 
[watashi@example-host ~]$ 
[watashi@example-host ~]$ sudo service td-agent restart
Restarting td-agent:

Timeout error occurred trying to stop td-agent...                                          [  OK  ]
[watashi@example-host ~]$ 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ダメや&lt;/p&gt;

&lt;p&gt;fluentdのコミッターの&lt;a href=&#34;https://twitter.com/sonots&#34;&gt;@sonots&lt;/a&gt;さんに&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ログは出ない&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;デーモンは生きている&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;そんな現象に出会ったことない？と聞いたところ&lt;br /&gt;
fluentdには&lt;a href=&#34;https://github.com/frsyuki/sigdump&#34;&gt;sigdump&lt;/a&gt;が入っているから&lt;br /&gt;
そこでstacktraceを追ってみれば、と意識の高いお返事を頂いたので実行してみる。&lt;/p&gt;

&lt;h4 id=&#34;kill-cont&#34;&gt;kill -CONT&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/frsyuki/sigdump#usage&#34;&gt;ドキュメント&lt;/a&gt;に書いてあるように&lt;code&gt;CONT&lt;/code&gt;のシグナルを送る&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[watashi@example-host ~]$ ps auxwwwf | grep td-agent
td-agent  7779  0.0  0.3 241756 26700 ?        Sl   May27   0:00 /opt/td-agent/embedded/bin/ruby /usr/sbin/td-agent --log /var/log/td-agent/td-agent.log --use-v1-config --group td-agent --daemon /var/run/td-agent/td-agent.pid
td-agent  7915  0.3  3.7 838976 288956 ?       Sl   May27 225:44  \_ /opt/td-agent/embedded/bin/ruby /usr/sbin/td-agent --log /var/log/td-agent/td-agent.log --use-v1-config --group td-agent --daemon /var/run/td-agent/td-agent.pid
[watashi@example-host ~]$ 
[watashi@example-host ~]$ sudo kill -CONT 7915
[watashi@example-host ~]$ 
[watashi@example-host ~]$ ps auxwwwf | grep td-agent
td-agent  7779  0.0  0.3 241756 26836 ?        Sl   May27   0:00 /opt/td-agent/embedded/bin/ruby /usr/sbin/td-agent --log /var/log/td-agent/td-agent.log --use-v1-config --group td-agent --daemon /var/run/td-agent/td-agent.pid
td-agent  7915  0.3  3.7 838976 288956 ?       Sl   May27 225:44  \_ /opt/td-agent/embedded/bin/ruby /usr/sbin/td-agent --log /var/log/td-agent/td-agent.log --use-v1-config --group td-agent --daemon /var/run/td-agent/td-agent.pid
[watashi@example-host ~]$
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;sigdumpができあがっている&#34;&gt;sigdumpができあがっている&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;[watashi@example-host ~]$ ls -la /tmp/
total 1048
-rw-rw-rw-  1 td-agent td-agent    5937 Jul  7 10:51 sigdump-7915.log
[watashi@example-host ~]$
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;sigdumpの中身を見てみる&#34;&gt;sigdumpの中身を見てみる&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;[watashi@example-host ~]$ sudo view /tmp/sigdump-7915.log
Sigdump at 2016-07-07 10:52:00 +0900 process 7915 (/usr/sbin/td-agent)
  Thread #&amp;lt;Thread:0x007fce4f19e658&amp;gt; status=run priority=0
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/sigdump-0.2.3/lib/sigdump.rb:39:in `backtrace&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/sigdump-0.2.3/lib/sigdump.rb:39:in `dump_backtrace&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/sigdump-0.2.3/lib/sigdump.rb:25:in `block in dump_all_thread_backtrace&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/sigdump-0.2.3/lib/sigdump.rb:24:in `each&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/sigdump-0.2.3/lib/sigdump.rb:24:in `dump_all_thread_backtrace&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/sigdump-0.2.3/lib/sigdump.rb:16:in `block in dump&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/sigdump-0.2.3/lib/sigdump.rb:119:in `open&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/sigdump-0.2.3/lib/sigdump.rb:119:in `_open_dump_path&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/sigdump-0.2.3/lib/sigdump.rb:14:in `dump&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/sigdump-0.2.3/lib/sigdump.rb:7:in `block in setup&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/agent.rb:102:in `call&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/agent.rb:102:in `join&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/agent.rb:102:in `block in shutdown&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/agent.rb:102:in `each&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/agent.rb:102:in `shutdown&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/root_agent.rb:131:in `block in shutdown&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/root_agent.rb:130:in `each&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/root_agent.rb:130:in `shutdown&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/engine.rb:229:in `shutdown&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/engine.rb:200:in `run&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/supervisor.rb:597:in `run_engine&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/supervisor.rb:148:in `block in start&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/supervisor.rb:352:in `call&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/supervisor.rb:352:in `main_process&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/supervisor.rb:325:in `block in supervise&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/supervisor.rb:324:in `fork&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/supervisor.rb:324:in `supervise&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/supervisor.rb:142:in `start&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/command/fluentd.rb:171:in `&amp;lt;top (required)&amp;gt;&#39;
      /opt/td-agent/embedded/lib/ruby/site_ruby/2.1.0/rubygems/core_ext/kernel_require.rb:54:in `require&#39;
      /opt/td-agent/embedded/lib/ruby/site_ruby/2.1.0/rubygems/core_ext/kernel_require.rb:54:in `require&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/bin/fluentd:6:in `&amp;lt;top (required)&amp;gt;&#39;
      /opt/td-agent/embedded/bin/fluentd:23:in `load&#39;
      /opt/td-agent/embedded/bin/fluentd:23:in `&amp;lt;top (required)&amp;gt;&#39;
      /usr/sbin/td-agent:7:in `load&#39;
      /usr/sbin/td-agent:7:in `&amp;lt;main&amp;gt;&#39;
  Thread #&amp;lt;Thread:0x007fce4f1910c0&amp;gt; status=sleep priority=0
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/output.rb:165:in `sleep&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/output.rb:165:in `wait&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/output.rb:165:in `cond_wait&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/output.rb:149:in `run&#39;
  Thread #&amp;lt;Thread:0x007fce4f192880&amp;gt; status=sleep priority=0
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/cool.io-1.4.2/lib/cool.io/loop.rb:88:in `run_once&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/cool.io-1.4.2/lib/cool.io/loop.rb:88:in `run&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/plugin/out_forward.rb:185:in `run&#39;
  Thread #&amp;lt;Thread:0x007fce4f18eb40&amp;gt; status=sleep priority=0
      /opt/td-agent/embedded/lib/ruby/2.1.0/net/http.rb:923:in `connect&#39;
      /opt/td-agent/embedded/lib/ruby/2.1.0/net/http.rb:923:in `block in connect&#39;
      /opt/td-agent/embedded/lib/ruby/2.1.0/timeout.rb:75:in `timeout&#39;
      /opt/td-agent/embedded/lib/ruby/2.1.0/net/http.rb:923:in `connect&#39;
      /opt/td-agent/embedded/lib/ruby/2.1.0/net/http.rb:863:in `do_start&#39;
      /opt/td-agent/embedded/lib/ruby/2.1.0/net/http.rb:852:in `start&#39;
      /opt/td-agent/embedded/lib/ruby/2.1.0/net/http.rb:1375:in `request&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/adapter/net_http.rb:82:in `perform_request&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/adapter/net_http.rb:40:in `block in call&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/adapter/net_http.rb:87:in `with_net_http_connection&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/adapter/net_http.rb:32:in `call&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/rack_builder.rb:139:in `build_response&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/connection.rb:377:in `run_request&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/connection.rb:177:in `post&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/mackerel-client-0.1.0/lib/mackerel/client.rb:108:in `post_service_metrics&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluent-plugin-mackerel-0.1.3/lib/fluent/plugin/out_mackerel.rb:161:in `send&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluent-plugin-mackerel-0.1.3/lib/fluent/plugin/out_mackerel.rb:151:in `write&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/buffer.rb:345:in `write_chunk&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/buffer.rb:324:in `pop&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/output.rb:329:in `try_flush&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/output.rb:140:in `run&#39;
  
  ...
  
    GC stat:
      count: 59808
      heap_used: 261
      heap_length: 261
      heap_increment: 0
      heap_live_slot: 105333
      heap_free_slot: 1061
      heap_final_slot: 0
      heap_swept_slot: 26253
      heap_eden_page_length: 261
      heap_tomb_page_length: 0
      total_allocated_object: 2536413815
      total_freed_object: 2536308482
      malloc_increase: 3756384
      malloc_limit: 16777216
      minor_gc_count: 58261
      major_gc_count: 1547
      remembered_shady_object: 2178
      remembered_shady_object_limit: 2276
      old_object: 62144
      old_object_limit: 112630
      oldmalloc_increase: 3800672
      oldmalloc_limit: 16777216
  Built-in objects:
   106,394: TOTAL
    47,172: T_STRING
    21,189: T_DATA
    16,574: T_ARRAY
     6,805: T_NODE
     3,221: T_OBJECT
     3,064: T_CLASS
     2,418: T_HASH
     1,910: T_FILE
     1,300: FREE
       736: T_ICLASS
       719: T_REGEXP
       701: T_STRUCT
       287: T_MATCH
       168: T_MODULE
        61: T_BIGNUM
        59: T_RATIONAL
         9: T_FLOAT
         1: T_COMPLEX
[watashi@example-host ~]$
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;よくわからんが読んで見る&#34;&gt;よくわからんが読んで見る&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;  Thread #&amp;lt;Thread:0x007fce4f18f1a8&amp;gt; status=sleep priority=0
      /opt/td-agent/embedded/lib/ruby/2.1.0/net/http.rb:923:in `connect&#39;
      /opt/td-agent/embedded/lib/ruby/2.1.0/net/http.rb:923:in `block in connect&#39;
      /opt/td-agent/embedded/lib/ruby/2.1.0/timeout.rb:75:in `timeout&#39;
      /opt/td-agent/embedded/lib/ruby/2.1.0/net/http.rb:923:in `connect&#39;
      /opt/td-agent/embedded/lib/ruby/2.1.0/net/http.rb:863:in `do_start&#39;
      /opt/td-agent/embedded/lib/ruby/2.1.0/net/http.rb:852:in `start&#39;
      /opt/td-agent/embedded/lib/ruby/2.1.0/net/http.rb:1375:in `request&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/adapter/net_http.rb:82:in `perform_request&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/adapter/net_http.rb:40:in `block in call&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/adapter/net_http.rb:87:in `with_net_http_connection&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/adapter/net_http.rb:32:in `call&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/rack_builder.rb:139:in `build_response&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/connection.rb:377:in `run_request&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/faraday-0.9.2/lib/faraday/connection.rb:177:in `post&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/mackerel-client-0.1.0/lib/mackerel/client.rb:108:in `post_service_metrics&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluent-plugin-mackerel-0.1.3/lib/fluent/plugin/out_mackerel.rb:161:in `send&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluent-plugin-mackerel-0.1.3/lib/fluent/plugin/out_mackerel.rb:151:in `write&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/buffer.rb:345:in `write_chunk&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/buffer.rb:324:in `pop&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/output.rb:329:in `try_flush&#39;
      /opt/td-agent/embedded/lib/ruby/gems/2.1.0/gems/fluentd-0.12.20/lib/fluent/output.rb:140:in `run&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;fluent-plugin-mackerel&lt;/code&gt;と&lt;code&gt;faraday&lt;/code&gt;という文字列が見える&lt;/p&gt;

&lt;h3 id=&#34;mackerel-client-rubyにprを送る&#34;&gt;mackerel-client-rubyにPRを送る&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/mackerelio/mackerel-client-ruby/pull/24&#34;&gt;pull/24&lt;/a&gt;のやりとりがそれ&lt;/p&gt;

&lt;p&gt;&lt;code&gt;faraday&lt;/code&gt;に&lt;code&gt;timeout&lt;/code&gt;のオプションがなかったので足した。&lt;/p&gt;

&lt;h2 id=&#34;後処理&#34;&gt;後処理&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;対象サーバで&lt;code&gt;mackerel-client-ruby&lt;/code&gt;をバージョンアップ&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;[watashi@example-host ~]$
[watashi@example-host ~]$ sudo /opt/td-agent/embedded/bin/gem update mackerel-client
Updating installed gems
Updating mackerel-client
Fetching: mackerel-client-0.1.1.gem (100%)
Successfully installed mackerel-client-0.1.1
Parsing documentation for mackerel-client-0.1.1
Installing ri documentation for mackerel-client-0.1.1
Installing darkfish documentation for mackerel-client-0.1.1
Done installing documentation for mackerel-client after 0 seconds
Parsing documentation for mackerel-client-0.1.1
Done installing documentation for mackerel-client after 0 seconds
Gems updated: mackerel-client
[watashi@example-host ~]$
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;対象のプロセスを始末してデーモンを起動&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;[watashi@example-host ~]$ kill 7915
[watashi@example-host ~]$ ps auxwwwf | grep td-agent
td-agent  7779  0.0  0.3 241756 26836 ?        Sl   May27   0:00 /opt/td-agent/embedded/bin/ruby /usr/sbin/td-agent --log /var/log/td-agent/td-agent.log --use-v1-config --group td-agent --daemon /var/run/td-agent/td-agent.pid
td-agent  7915  0.3  3.7 838976 288956 ?       Sl   May27 225:44  \_ /opt/td-agent/embedded/bin/ruby /usr/sbin/td-agent --log /var/log/td-agent/td-agent.log --use-v1-config --group td-agent --daemon /var/run/td-agent/td-agent.pid
[watashi@example-host ~]$
[watashi@example-host ~]$ kill 7779
[watashi@example-host ~]$ ps auxwwwf | grep td-agent
td-agent  7779  0.0  0.3 241756 26836 ?        Sl   May27   0:00 /opt/td-agent/embedded/bin/ruby /usr/sbin/td-agent --log /var/log/td-agent/td-agent.log --use-v1-config --group td-agent --daemon /var/run/td-agent/td-agent.pid
td-agent  7915  0.3  3.7 838976 288956 ?       Sl   May27 225:44  \_ /opt/td-agent/embedded/bin/ruby /usr/sbin/td-agent --log /var/log/td-agent/td-agent.log --use-v1-config --group td-agent --daemon /var/run/td-agent/td-agent.pid
[watashi@example-host ~]$
[watashi@example-host ~]$ kill -9 7915
[watashi@example-host ~]$ kill -9 7779
[watashi@example-host ~]$ ps auxwwwf | grep td-agent
[watashi@example-host ~]$
[watashi@example-host ~]$
[watashi@example-host ~]$ sudo  service td-agent start
Starting td-agent:                                         [  OK  ]
[watashi@example-host ~]$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ログや&lt;code&gt;mackerel&lt;/code&gt;などで問題なく出力がされているか確認する。&lt;/p&gt;

&lt;p&gt;サービスを利用させてもらっている側もこのように地味なところで貢献できるので&lt;br /&gt;
何かあったら色々とやってみよう💪&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>